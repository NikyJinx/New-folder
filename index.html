<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Stats Roller (3d10)</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Character Stats Roller</h1>
            <input type="text" id="characterName" placeholder="Character Name" class="character-name">
        </header>

        <div class="stats-container">
            <div class="stats-section">
                <h2 class="section-title">Statistiche Mentali</h2>
                <div class="stats-grid">
                    <div class="stat-block" data-stat="mente">
                        <h3>MENTE</h3>
                        <input type="number" id="mente" min="-5" max="20" value="0" class="stat-input">
                        <div class="modifier" id="mente-mod">+0</div>
                        <button class="roll-btn" onclick="rollStat('mente')">Roll</button>
                    </div>

                    <div class="stat-block" data-stat="spirito">
                        <h3>SPIRITO</h3>
                        <input type="number" id="spirito" min="-5" max="20" value="0" class="stat-input">
                        <div class="modifier" id="spirito-mod">+0</div>
                        <button class="roll-btn" onclick="rollStat('spirito')">Roll</button>
                    </div>

                    <div class="stat-block" data-stat="cuore">
                        <h3>CUORE</h3>
                        <input type="number" id="cuore" min="-5" max="20" value="0" class="stat-input">
                        <div class="modifier" id="cuore-mod">+0</div>
                        <button class="roll-btn" onclick="rollStat('cuore')">Roll</button>
                    </div>

                    <div class="stat-block" data-stat="volonta">
                        <h3>VOLONTÀ</h3>
                        <div class="auto-calc-display">
                            <span id="volonta-auto" class="auto-value">0</span>
                            <span class="plus-sign">+</span>
                            <input type="number" id="volonta-bonus" min="-10" max="10" value="0" class="bonus-input" placeholder="Bonus">
                            <span class="equals-sign">=</span>
                            <span id="volonta-total" class="total-value">0</span>
                        </div>
                        <div class="modifier" id="volonta-mod">+0</div>
                        <button class="roll-btn" onclick="rollStat('volonta')">Roll</button>
                        <div class="calc-info">Auto: Mentali ÷ 4</div>
                    </div>
                </div>
            </div>

            <div class="stats-section">
                <h2 class="section-title">Statistiche Fisiche</h2>
                <div class="stats-grid">
                    <div class="stat-block" data-stat="vigore">
                        <h3>VIGORE</h3>
                        <input type="number" id="vigore" min="-5" max="30" value="10" class="stat-input">
                        <div class="modifier" id="vigore-mod">+0</div>
                        <button class="roll-btn" onclick="rollStat('vigore')">Roll</button>
                    </div>

                    <div class="stat-block" data-stat="riflessi">
                        <h3>RIFLESSI</h3>
                        <input type="number" id="riflessi" min="-5" max="30" value="10" class="stat-input">
                        <div class="modifier" id="riflessi-mod">+0</div>
                        <button class="roll-btn" onclick="rollStat('riflessi')">Roll</button>
                    </div>

                    <div class="stat-block" data-stat="virtu">
                        <h3>VIRTÙ</h3>
                        <input type="number" id="virtu" min="-5" max="30" value="10" class="stat-input">
                        <div class="modifier" id="virtu-mod">+0</div>
                        <button class="roll-btn" onclick="rollStat('virtu')">Roll</button>
                    </div>

                    <div class="stat-block" data-stat="autorita">
                        <h3>AUTORITÀ</h3>
                        <div class="auto-calc-display">
                            <span id="autorita-auto" class="auto-value">0</span>
                            <span class="plus-sign">+</span>
                            <input type="number" id="autorita-bonus" min="-10" max="10" value="0" class="bonus-input" placeholder="Bonus">
                            <span class="equals-sign">=</span>
                            <span id="autorita-total" class="total-value">0</span>
                        </div>
                        <div class="modifier" id="autorita-mod">+0</div>
                        <button class="roll-btn" onclick="rollStat('autorita')">Roll</button>
                        <div class="calc-info">Auto: Fisiche ÷ 4</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="roll-results">
            <h3>Roll Results</h3>
            <div id="rollHistory" class="roll-history"></div>
            <button onclick="clearHistory()" class="clear-btn">Clear History</button>
        </div>

        <div class="discord-integration">
            <h3>Discord Integration</h3>
            <button onclick="toggleDiscordMode()" id="discordToggle" class="toggle-btn">Enable Discord Mode</button>
            <button onclick="testDiscordWebhook()" id="testDiscord" class="toggle-btn" style="background: linear-gradient(145deg, #7289da, #5a73d1); margin-left: 10px;">Test Discord</button>
            <p class="integration-info">Send 3d10 roll results directly to your Discord text channel via webhook.</p>
            <div class="discord-help">
                <details>
                    <summary>How to set up Discord webhook</summary>
                    <ol>
                        <li>Go to your Discord server settings</li>
                        <li>Navigate to "Integrations" → "Webhooks"</li>
                        <li>Click "New Webhook"</li>
                        <li>Choose your channel and copy the webhook URL</li>
                        <li>Paste the URL when prompted in the app</li>
                    </ol>
                </details>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>